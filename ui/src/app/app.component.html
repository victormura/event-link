<header class="top-bar" [class.menu-open]="showMobileMenu">
  <div class="brand-row">
    <div class="brand" routerLink="/" (click)="closeMenu()">EventLink</div>
    <button class="mobile-toggle" type="button" (click)="toggleMenu()" [attr.aria-expanded]="showMobileMenu">
      {{ showMobileMenu ? ('nav.close' | translate) : ('nav.menu' | translate) }}
    </button>
  </div>
  <nav class="main-nav" [class.open]="showMobileMenu">
    <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" (click)="closeMenu()">{{ 'nav.events' | translate }}</a>
    <a *ngIf="auth.isStudent()" routerLink="/my-events" routerLinkActive="active" (click)="closeMenu()">{{ 'nav.myEvents' | translate }}</a>
    <a *ngIf="auth.isStudent()" routerLink="/organizer/upgrade" routerLinkActive="active" (click)="closeMenu()">{{ 'nav.upgrade' | translate }}</a>
    <a *ngIf="auth.isOrganizer()" routerLink="/create-event" routerLinkActive="active" (click)="closeMenu()">{{ 'nav.create' | translate }}</a>
    <a *ngIf="auth.isOrganizer()" routerLink="/organizer/events" routerLinkActive="active" (click)="closeMenu()">{{ 'nav.createdEvents' | translate }}</a>
  </nav>
  <div class="account" [class.open]="showMobileMenu">
    <button class="ghost" type="button" (click)="toggleLang()">{{ 'lang.toggle' | translate }}</button>
    <ng-container *ngIf="auth.isLoggedIn(); else guest">
      <div class="user-pill">
        <span class="label">{{ auth.role === 'organizator' ? ('nav.role.organizer' | translate) : ('nav.role.student' | translate) }}</span>
      </div>
      <button class="ghost" (click)="logout()">{{ 'nav.logout' | translate }}</button>
    </ng-container>
    <ng-template #guest>
      <a class="ghost" routerLink="/login" (click)="closeMenu()">{{ 'nav.login' | translate }}</a>
      <a class="primary" routerLink="/register" (click)="closeMenu()">{{ 'nav.register' | translate }}</a>
    </ng-template>
  </div>
</header>

<main class="page">
  <router-outlet></router-outlet>
</main>

<footer class="site-footer">
  <div>{{ 'footer.tagline' | translate }}</div>
</footer>

<app-notifications></app-notifications>
